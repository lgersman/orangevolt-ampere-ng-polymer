<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../ampere-transition/ampere-transition.html">

<polymer-element name="ampere-view" attributes="host view disabled">
  <template>
    <link rel="stylesheet" href="ampere-view.less">
    <!-- always visible header template. template gets bound to component property -->
    <template id="header">
      <div class="header">
        <core-item
          disabled?="{{!description}}"
          hidden?="{{!(icon || caption)}}"
          icon="{{icon}}"
          label="{{caption}}"
          on-tap="{{toggleDescription}}"
        ></core-item>
        <core-collapse id="description" opened>
          <em>{{description}}</em>
        </core-collapse>

        <ampere-toolbar app="{{view.state.module.app}}" scope="local"></ampere-toolbar>
        <!--
        <ampere-toolbar app="{{view.state.module.app}}" scope=""></ampere-toolbar>
      -->
      </div>
    </template>

    <!-- default template to use if view.template is not defined, template gets bound to view property -->
    <template id="default">
      <template id="dl">
        <dl>
          <dt>
            {{context.type}}(name=<code>{{context.name | stringify}}</code>)
          </dt>
          <dd>
            <pre>{{context | stringify(true)}}</pre>
          </dd>
        </dl>
      </template>
      <template ref="dl" bind="{{state.views[name] as context}}"></template>
      <template ref="dl" bind="{{state as context}}"></template>
      <template ref="dl" bind="{{state.module as context}}"></template>
      <template ref="dl" bind="{{state.module.app as context}}"></template>
      <template ref="dl" bind="{{state.module.domain as context}}"></template>
    </template>

    <div fit layout vertical id="content"></div>

    <div id="overlay"></div>
  </template>
  <script src="ampere-view.es6"></script>
</polymer-element>
