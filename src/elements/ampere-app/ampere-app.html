<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../ampere-transition/ampere-transition.html">
<link rel="import" href="../ampere-status/ampere-status.html">
<link rel="import" href="../ampere-dialog/ampere-dialog.html">

<link rel="import" href="../../../bower_components/paper-dialog/paper-dialog-transition.html">
<link rel="import" href="../../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../bower_components/core-overlay/core-overlay.html">
<link rel="import" href="../ampere-toolbar/ampere-toolbar.html">

<polymer-element name="ampere-app" attributes="app">
  <template>
    <content>
      <link rel="stylesheet" href="ampere-app.less">
      <!-- <core-style ref="core-scroll-header-panel"></core-style> -->
      <core-header-panel fit>
        <div class="core-header">
          <ampere-toolbar app="{{app}}" scope="global"></ampere-toolbar>
        </div>
        <div class="content">
          <!-- lowest view -->
          <ampere-view host="{{}}" view="{{views[0]}}" disabled?="{{views.length>1}}"></ampere-view>
          <!-- all following views are stacked (aka dialogs) -->
          <template repeat="{{view,index in views}}">
            <template if="{{index}}">
              <ampere-dialog host="{{}}" view={{view}} disabled?="{{views[views.length-1]!=view}}"></ampere-dialog>
            </template>
          </template>
          <ampere-status id="status" host="{{}}"></ampere-status>
        </div>
      </core-header-panel>
    </content>
  </template>
  <script src="ampere-app.es6"></script>
</polymer-element>
